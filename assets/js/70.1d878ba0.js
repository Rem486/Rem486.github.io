(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{420:function(e,t,r){"use strict";r.r(t);var o=r(40),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"ie-图片加载报错dom7009"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ie-图片加载报错dom7009"}},[e._v("#")]),e._v(" IE - 图片加载报错DOM7009")]),e._v(" "),r("h2",{attrs:{id:"背景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),r("p",[e._v("在 IE 下把大尺寸(9000x13000像素，20M)的 PNG 图片渲染在 canvas 上的时候，有的 IE 上无法显示出来，控制台提示 "),r("code",[e._v("DOM7009 unable to decode image at url")]),e._v("。")]),e._v(" "),r("p",[e._v("对于 DOM7009 ，找到几个可能的原因：")]),e._v(" "),r("ol",[r("li",[e._v("图片后缀名不正确，手动改过后缀，JPG -> PNG;")]),e._v(" "),r("li",[e._v("图片颜色编码，IE 不支持 CMYK(印刷色彩模式) 模式的图;")]),e._v(" "),r("li",[e._v("IIS 服务器配置 "),r("code",[e._v('<add name="X-Content-Type-Options" value="nosniff" />')]),e._v("，会阻止浏览器在请求的资源格式与预先设定的图片格式不匹配的请求。")]),e._v(" "),r("li",[e._v("图片太大;")])]),e._v(" "),r("p",[e._v("针对这几种情况，我遇到的是，图片后缀正确，颜色编码 RGB ，本地服务加载的图片，20M的 JPG 可以显示。")]),e._v(" "),r("p",[e._v("推测应该是IE下内存不足导致的，因为使用 DEMO(只有选择图片然后预览) 进行测试的时候，发现还是可以渲染出来的。调整图片尺寸后 5000x7000像素后可以正常显示。所以只能暂时先对图片尺寸进行限制。")]),e._v(" "),r("p",[e._v("最后的最后，换了一台电脑上的 IE 可以正常显示。。。")]),e._v(" "),r("h3",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://social.technet.microsoft.com/Forums/en-US/203b7ff1-645f-4889-9d5b-38506fb350c7/ie-11-quotunable-to-decode-image-at-urlquot-error",target:"_blank",rel:"noopener noreferrer"}},[e._v('IE 11, "unable to decode image at url" error'),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://stackoverflow.com/questions/27934411/images-failing-to-load-in-ie-with-dom-7009-error-unable-to-decode-in-console",target:"_blank",rel:"noopener noreferrer"}},[e._v("Images failing to load in IE with DOM: 7009 error (unable to decode) in console"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/naseeihity/LearnToLearn/issues/34",target:"_blank",rel:"noopener noreferrer"}},[e._v("IE图片无法加载，报“DOM7009 unable to decode image at url“警告"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.cnblogs.com/fsjohnhuang/p/4455822.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("JS魔法堂：再识IE的内存泄露"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=a.exports}}]);